<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <title>极大值计算器</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background-color: #f0f0f0; }
    label, select, input { display: block; margin-bottom: 10px; }
    input, select { padding: 5px; width: 180px; }
    button { padding: 8px 16px; margin-top: 10px; }
    .result { margin-top: 20px; font-weight: bold; white-space: pre-line; }
    
    /* 标题居中样式 */
    h2 {
      display: flex;          /* 使用Flex布局实现内容居中 */
      align-items: center;    /* 垂直居中 */
      justify-content: center; /* 水平居中 */
      margin: 25px 0 15px;    /* 调整标题上下边距 */
    }

    /* 新增：优纪文字样式 */
    .unique-text {
      font-style: italic;     /* 斜体 */
      font-size: 36px;        /* 增大字体（原24px→36px） */
      margin: 0 12px;         /* 左右增加边距，更贴近主标题 */
      display: inline-block;  /* 确保transform生效 */
      animation: colorChange 5s infinite; /* 颜色变换动画 */
      transform: skew(-8deg); /* 整体倾斜效果（角度可调整） */
      transform-origin: center; /* 倾斜中心在文字中心 */
      font-weight: bold;      /* 加粗增强视觉效果 */
    }

    /* 颜色自动变换动画 */
    @keyframes colorChange {
      0% { color: #FF5733; } 
      20% { color: #33FF57; }
      40% { color: #3357FF; }
      60% { color: #9B33FF; }
      80% { color: #FF33A8; }
      100% { color: #FF5733; }
    }
  </style>
</head>
<body>
  <!-- 标题包含优纪，使用Flex居中 -->
  <h2>秘境血魔流搭配计算器 <span class="unique-text">优纪</span></h2>
  
  <label>已安装卡牌词条:
    <select id="n">
      <option value="4.4">聚合驭电猎狩</option>
      <option value="5.4">聚合智澜驭电</option>
      <option value="1.6">驭电</option>
      <option value="2.2">智澜</option>
    </select>
  </label>
  <label>准备安装的卡牌词条:
    <select id="m">
      <option value="4.4">聚合驭电</option>
      <option value="5.4">聚合智澜</option>
      <option value="1.6">驭电</option>
      <option value="2.2">智澜</option>
    </select>
  </label>
  <label>已携带永恒血池数量: <input type="number" id="o" value="0" step="any"></label>
  <label>已携带生命之力数量: <input type="number" id="p" value="0" step="any"></label>
  <label>已携带狂热数量: <input type="number" id="q" value="0" step="any"></label>
  <label>除去神行和已携带卡后的格子: <input type="number" id="total" value="0"></label>
  <button onclick="calculate()">计算最大等效武装</button>

  <div class="result" id="result"></div>

  <script>
    function floor(x) {
      return Math.floor(x);
    }

    function computeValue(x, y, z, n, m, o, p, q) {
      const term1 = 5 * floor(m * o + n * x) * n * y;
      const constant = 500 + 5 * floor(m * o + n * x) * m * p;
      const multiplier = (1 + 0.05 * n * z + 0.05 * m * q) * 1.25;
      return (term1 + constant) * multiplier;
    }

    function calculate() {
      const n = parseFloat(document.getElementById("n").value);
      const m = parseFloat(document.getElementById("m").value);
      const o = parseFloat(document.getElementById("o").value);
      const p = parseFloat(document.getElementById("p").value);
      const q = parseFloat(document.getElementById("q").value);
      const total = parseInt(document.getElementById("total").value);

      let maxVal = -Infinity;
      let maxCombo = '';

      for (let x = 0; x <= total; x++) {  // 已修复循环范围
        for (let y = 0; y <= total - x; y++) {
          let z = total - x - y;
          const val = computeValue(x, y, z, n, m, o, p, q);
          if (val > maxVal) {
            maxVal = val;
            maxCombo = `(${x}, ${y}, ${z})`;
          }
        }
      }

      document.getElementById("result").innerText =
        `最大值：${maxVal.toFixed(2)}，对应 (永恒血池,生命之力，狂热) = ${maxCombo}`;
    }
  </script>
</body>
</html>